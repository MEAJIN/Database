트리거(TRIGGER) 만들기
트리거란?
특정 이벤트가 발생했을 때 자동으로 실행되는 스크립트
EVENT : INSERT, DELETE, UPDATE

예제(생성)

CREATE TRIGGER S_DEL
 BEFORE DELETE ON S
FOR EACH ROW
BEGIN
  DELETE FROM SP
  WHERE S# = :OLD.S#;
END;


DELETE FROM S WHERE S# = 'S1';

BEFORE/AFTER/ (사전/사후)
ROW/STATEMENT (영향받는 모든행/단 한행)
OLD/NEW

예제(일시중시/재생)

ALTER TRIGGER S_DEL DISABLE;

DELETE FROM S WHERE S# = 'S2';

ALTER TRIGGER S_DEL ENABLE;

DELETE FROM S WHERE S# = 'S2';

TRIGGER 내용 바꾸기

REPLACE TRIGGER ...


CREATE TRIGGER S_UPDATE
BEFORE
UPDATE ON S
FOR EACH ROW
BEGIN
DBMS_OUTPUT.PUT_LINE('변경 전 컬럼 값 : ' || :old.SNAME);
DBMS_OUTPUT.PUT_LINE('변경 후 컬럼 값 : ' || :new.SNAME);
END;
/
UPDATE S SET SNAME='HHH' WHERE S#='S1';

